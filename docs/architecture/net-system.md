# 网络系统

## DNS(Domain Name System) 域名系统

- 在互联网早期，DNS 也会用于负载均衡的功能，缺点就是延时性问题，很难做到在客户端即时生效

## CDN(Content Delivery Network) 内容分发网络

## LB(LoadBalance) 负载均衡

- 流量分发
- 健康检测，及时剔除掉故障节点

### 1. DNS 域名解析负载均衡

- 一个域名绑定多个 IP 地址
- 大型网站会部分使用 DNS 域名解析，作为第一层负载均衡手段

### 2. 数据链路层负载均衡(LVS)

- 负载均衡服务器收到客户端发过来的数据请求后，修改请求数据中的 mac 地址信息，转发给后台服务器
- 后台服务器和负载均衡服务器配置相同的虚拟 ip 地址，真实的后台服务器处理完之后，直接发送应答响应，不需要再经过负载均衡服务器

### 3. IP 负载均衡(SNAT)

- 修改请求 IP 地址进行负载均衡
- 所有请求响应的数据包都要经过负载均衡服务器，网卡带宽会成为系统瓶颈

### 4. HTTP 重定向负载均衡(少见)

- 每次请求两次服务器才能完成一次访问，性能较差

### 5. 反向代理负载均衡(nginx, apache)

- 所有的请求都必须经过负载均衡服务器
- 因为会解析到 http 层的协议，可以起到保护网站安全，缓存 web 请求等作用
- 同 IP 负载均衡一样，可能会成为系统的瓶颈
