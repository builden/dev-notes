# 访问者模式 (Visitor Pattern)

允许一个或者多个操作应用到一组对象上，解耦操作和对象本身

## 应用场景

- 访问者模式针对的是一组类型不同的对象(PdfFile, PPTFile, WordFile)
- 但这种对象都继承相同的父类(ResourceFile)或者实现相同的接口
- 在不同的应用场景下，我们需要对这组对象进行一系列不相关的业务操作(抽取文本，压缩等)
- 为了避免不断添加功能导致类(PdfFile, PPTFile, WordFile)不断膨胀，职责越来越不单一，以及避免频繁添加功能导致的频繁代码修改
- 使用访问者模式，将对象和操作解耦，将这些业务的操作抽离出来，定义在独立细分的访问类中(Extractor, Compressor)
- 对于这个例子也可以用工厂模式实现，但如果对象有十几个，那更推荐用访问者模式，因为类数量少很多，类太多也会影响代码的可维护性

## 限制

代码实现难理解，除非不得已，不要使用这种模式
